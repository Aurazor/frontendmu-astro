---
import HomeHero from "../components/HomeHero.astro";
import HomeSocialPresence from "../components/HomeSocialPresence.astro";
import LayoutHome from "../layouts/LayoutHome.astro";
import { getDirectusClient } from "../utils/directus-client";
import HomeLatestMeetup from "../components/HomeLatestMeetup.astro";

const directus = await getDirectusClient();
global.events = global.events
    ? global.events
    :  await directus.items("Events").readByQuery({
	fields: ["*.*"],
});

let response = global.events
---

<LayoutHome>
	<HomeHero />
		
	<HomeLatestMeetup response={response} />
	
	<HomeSocialPresence />
</LayoutHome>
